<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
<link rel="stylesheet" href="jquery.mobile-1.1.0.custom.css?" />
</head>
<body>
<form action="login.php" method="post">
<div id="PYS" data-url="PYS" data-role="page">
<div data-role="header" data-theme="e">
<h1>Login</h1>
</div>

<div data-role="content">
<div data-role="fieldcontain">
<label for="inp_tw10">Username</label>
<input type="text" name="username" id="inp_tw10" />
</div>
<div data-role="fieldcontain">
<label for="inp_tw11">Password</label>
<input type="text" name="password" id="inp_tw11" />
</div>
<input id="login" type="submit" data-theme="b" value="Login" />
</div>

</div>
</form>

</body>
</html>
<?
  require_once("dbtools.inc.php");
  header("Content-type: text/html; charset=utf-8");
	
  //取得表單資料
  $username = $_POST["username"]; 	
  $password = $_POST["password"];

  //建立資料連接
  $link = create_connection();
					
  //檢查帳號密碼是否正確
  $sql = "SELECT * FROM user Where username = '$username' AND password = '$password'";
  $result = execute_sql("pyswebsite", $sql, $link);
  if (mysql_num_rows($result) == 0)
  {
    //釋放 $result 佔用的記憶體
    mysql_free_result($result);
	
    //關閉資料連接	
    mysql_close($link);		
		
    //顯示訊息要求使用者輸入正確的帳號密碼
    echo "<script type='text/javascript'>";
    echo "alert('帳號密碼錯誤，請重新輸入');";
    echo "history.back();";
    echo "</script>";
  }
  else
  {
    header("location:google.com");		
  }
?>
